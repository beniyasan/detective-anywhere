# AIミステリー散歩 (AI Mystery Walk)

日常の散歩や通勤を、AIが即興で生成するミステリー体験に変えるゲームアプリ

## 🎯 概要

ユーザーがスマホを持って歩くだけで、AIが舞台設定・事件・容疑者・証拠を生成。実際のGPS情報をもとに、証拠が配置された場所に行くと発見イベントが発生し、最後にプレイヤーは「犯人は誰か」を推理します。

## 🔑 主要機能

### シナリオ生成
- 被害者、容疑者（3〜8名）、関係性、証拠、舞台をAIが生成
- 導入文は短編小説の冒頭レベル（200〜500字）でドラマ調
- 難易度によって容疑者数・証拠数・物語の厚みを調整
- ストーリー特化型（人間ドラマ／時系列複雑さ／ミスリード証拠）をランダム付与

### GPS連動
- 「探偵事務所オープン」で現在地周辺のPOI（ランドマーク・カフェ・公園など）を取得
- 証拠やシーンをそのPOIに結びつける
- プレイヤーが実際に移動して到達すると、証拠が解放されストーリー進行

### 推理パート
- プレイヤーは自由回答で「犯人名」を入力
- AIが正誤を判定し、キャラ設定に応じたコメントを生成
- 正解 → 犯人が逆ギレ／泣き出す／諦める等
- 不正解 → 間違えられた容疑者が抗議、補助的に警察や依頼人コメントも入る

## 🛠️ 技術構成

### 必須要件（ハッカソン準拠）
- **Google Cloud** 実行環境（Cloud Run / Cloud Functions / GKE）
- **Google Cloud AI** 技術利用（Gemini API or Vertex AI）
- **GPS利用** Androidアプリ（Flutter or Kotlin）
- **将来拡張** Firebase（ユーザー履歴・ランキング保存）

### アーキテクチャ
```
[Mobile App] ←→ [Cloud Run API] ←→ [Gemini API]
     ↓              ↓                 ↓
[GPS Service] [Cloud Storage]   [Vertex AI]
     ↓              ↓
[POI Service] [Cloud Firestore]
```

## 📱 MVP実装計画

1. **プロトタイプ実装**
   - スマホで「探偵事務所オープン」 → 現在地から事件生成
   - 証拠2〜3個をPOIに紐づけて配置
   - 推理回答（自由入力＋AI判定） → コメント返却

2. **ハッカソン向けデモ**
   - 東京タワー周辺や山下公園など分かりやすいPOIでテスト
   - 5分〜10分で遊べるシナリオを生成
   - 正解／不正解パターン両方を体験可能

3. **拡張機能**
   - 難易度モード（Easy/Normal/Hard）
   - ランキング／履歴保存（Firebase）
   - キャラごとのコメントパターン追加
   - BGM/効果音／TTSによる臨場感強化

## 🚀 開発ステップ

- [ ] システム設計・アーキテクチャ構築
- [ ] バックエンドAPI開発（Google Cloud Run）
- [ ] Gemini API連携（シナリオ生成）
- [ ] モバイルアプリ開発（Flutter）
- [ ] GPS・POI連携機能
- [ ] 推理判定システム
- [ ] デモ用データ準備
- [ ] テスト・デバッグ

## 📂 プロジェクト構造

```
detective-anywhere/
├── backend/                 # Cloud Run API
│   ├── src/
│   ├── requirements.txt
│   └── Dockerfile
├── mobile/                  # Flutter/Kotlin App
│   ├── lib/
│   ├── android/
│   └── pubspec.yaml
├── shared/                  # 共通データ構造
│   ├── models/
│   └── schemas/
└── docs/                   # 設計ドキュメント
    ├── api-spec.md
    └── system-design.md
```